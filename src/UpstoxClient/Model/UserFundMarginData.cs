// <auto-generated>
/*
 * OpenAPI definition
 *
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: v0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using UpstoxClient.Client;

namespace UpstoxClient.Model
{
    /// <summary>
    /// UserFundMarginData
    /// </summary>
    public partial class UserFundMarginData
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="UserFundMarginData" /> class.
        /// </summary>
        /// <param name="usedMargin">Positive values denote the amount blocked into an Open order or position.  Negative value denotes the amount being released.</param>
        /// <param name="payinAmount">Instant payin will reflect here</param>
        /// <param name="spanMargin">Amount blocked on futures and options towards SPAN</param>
        /// <param name="adhocMargin">Payin amount credited through a manual process</param>
        /// <param name="notionalCash">The amount maintained for withdrawal</param>
        /// <param name="availableMargin">Total margin available for trading</param>
        /// <param name="exposureMargin">Amount blocked on futures and options towards Exposure</param>
        [JsonConstructor]
        internal UserFundMarginData(Option<float?> usedMargin = default, Option<float?> payinAmount = default, Option<float?> spanMargin = default, Option<float?> adhocMargin = default, Option<float?> notionalCash = default, Option<float?> availableMargin = default, Option<float?> exposureMargin = default)
        {
            UsedMarginOption = usedMargin;
            PayinAmountOption = payinAmount;
            SpanMarginOption = spanMargin;
            AdhocMarginOption = adhocMargin;
            NotionalCashOption = notionalCash;
            AvailableMarginOption = availableMargin;
            ExposureMarginOption = exposureMargin;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Used to track the state of UsedMargin
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<float?> UsedMarginOption { get; }

        /// <summary>
        /// Positive values denote the amount blocked into an Open order or position.  Negative value denotes the amount being released.
        /// </summary>
        /// <value>Positive values denote the amount blocked into an Open order or position.  Negative value denotes the amount being released.</value>
        /* <example>120.01</example> */
        [JsonPropertyName("used_margin")]
        public float? UsedMargin { get { return this.UsedMarginOption; } }

        /// <summary>
        /// Used to track the state of PayinAmount
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<float?> PayinAmountOption { get; }

        /// <summary>
        /// Instant payin will reflect here
        /// </summary>
        /// <value>Instant payin will reflect here</value>
        /* <example>0</example> */
        [JsonPropertyName("payin_amount")]
        public float? PayinAmount { get { return this.PayinAmountOption; } }

        /// <summary>
        /// Used to track the state of SpanMargin
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<float?> SpanMarginOption { get; }

        /// <summary>
        /// Amount blocked on futures and options towards SPAN
        /// </summary>
        /// <value>Amount blocked on futures and options towards SPAN</value>
        /* <example>0</example> */
        [JsonPropertyName("span_margin")]
        public float? SpanMargin { get { return this.SpanMarginOption; } }

        /// <summary>
        /// Used to track the state of AdhocMargin
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<float?> AdhocMarginOption { get; }

        /// <summary>
        /// Payin amount credited through a manual process
        /// </summary>
        /// <value>Payin amount credited through a manual process</value>
        /* <example>0</example> */
        [JsonPropertyName("adhoc_margin")]
        public float? AdhocMargin { get { return this.AdhocMarginOption; } }

        /// <summary>
        /// Used to track the state of NotionalCash
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<float?> NotionalCashOption { get; }

        /// <summary>
        /// The amount maintained for withdrawal
        /// </summary>
        /// <value>The amount maintained for withdrawal</value>
        /* <example>0</example> */
        [JsonPropertyName("notional_cash")]
        public float? NotionalCash { get { return this.NotionalCashOption; } }

        /// <summary>
        /// Used to track the state of AvailableMargin
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<float?> AvailableMarginOption { get; }

        /// <summary>
        /// Total margin available for trading
        /// </summary>
        /// <value>Total margin available for trading</value>
        /* <example>200.0</example> */
        [JsonPropertyName("available_margin")]
        public float? AvailableMargin { get { return this.AvailableMarginOption; } }

        /// <summary>
        /// Used to track the state of ExposureMargin
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<float?> ExposureMarginOption { get; }

        /// <summary>
        /// Amount blocked on futures and options towards Exposure
        /// </summary>
        /// <value>Amount blocked on futures and options towards Exposure</value>
        /* <example>0</example> */
        [JsonPropertyName("exposure_margin")]
        public float? ExposureMargin { get { return this.ExposureMarginOption; } }

        /// <summary>
        /// Gets or Sets additional properties
        /// </summary>
        [JsonExtensionData]
        public Dictionary<string, JsonElement> AdditionalProperties { get; } = new Dictionary<string, JsonElement>();

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class UserFundMarginData {\n");
            sb.Append("  UsedMargin: ").Append(UsedMargin).Append("\n");
            sb.Append("  PayinAmount: ").Append(PayinAmount).Append("\n");
            sb.Append("  SpanMargin: ").Append(SpanMargin).Append("\n");
            sb.Append("  AdhocMargin: ").Append(AdhocMargin).Append("\n");
            sb.Append("  NotionalCash: ").Append(NotionalCash).Append("\n");
            sb.Append("  AvailableMargin: ").Append(AvailableMargin).Append("\n");
            sb.Append("  ExposureMargin: ").Append(ExposureMargin).Append("\n");
            sb.Append("  AdditionalProperties: ").Append(AdditionalProperties).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="UserFundMarginData" />
    /// </summary>
    public class UserFundMarginDataJsonConverter : JsonConverter<UserFundMarginData>
    {
        /// <summary>
        /// Deserializes json to <see cref="UserFundMarginData" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override UserFundMarginData Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<float?> usedMargin = default;
            Option<float?> payinAmount = default;
            Option<float?> spanMargin = default;
            Option<float?> adhocMargin = default;
            Option<float?> notionalCash = default;
            Option<float?> availableMargin = default;
            Option<float?> exposureMargin = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "used_margin":
                            usedMargin = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        case "payin_amount":
                            payinAmount = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        case "span_margin":
                            spanMargin = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        case "adhoc_margin":
                            adhocMargin = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        case "notional_cash":
                            notionalCash = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        case "available_margin":
                            availableMargin = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        case "exposure_margin":
                            exposureMargin = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        default:
                            break;
                    }
                }
            }

            return new UserFundMarginData(usedMargin, payinAmount, spanMargin, adhocMargin, notionalCash, availableMargin, exposureMargin);
        }

        /// <summary>
        /// Serializes a <see cref="UserFundMarginData" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="userFundMarginData"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, UserFundMarginData userFundMarginData, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, userFundMarginData, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="UserFundMarginData" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="userFundMarginData"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, UserFundMarginData userFundMarginData, JsonSerializerOptions jsonSerializerOptions)
        {
            if (userFundMarginData.UsedMarginOption.IsSet)
                if (userFundMarginData.UsedMarginOption.Value != null)
                    writer.WriteNumber("used_margin", userFundMarginData.UsedMarginOption.Value!.Value);
                else
                    writer.WriteNull("used_margin");

            if (userFundMarginData.PayinAmountOption.IsSet)
                if (userFundMarginData.PayinAmountOption.Value != null)
                    writer.WriteNumber("payin_amount", userFundMarginData.PayinAmountOption.Value!.Value);
                else
                    writer.WriteNull("payin_amount");

            if (userFundMarginData.SpanMarginOption.IsSet)
                if (userFundMarginData.SpanMarginOption.Value != null)
                    writer.WriteNumber("span_margin", userFundMarginData.SpanMarginOption.Value!.Value);
                else
                    writer.WriteNull("span_margin");

            if (userFundMarginData.AdhocMarginOption.IsSet)
                if (userFundMarginData.AdhocMarginOption.Value != null)
                    writer.WriteNumber("adhoc_margin", userFundMarginData.AdhocMarginOption.Value!.Value);
                else
                    writer.WriteNull("adhoc_margin");

            if (userFundMarginData.NotionalCashOption.IsSet)
                if (userFundMarginData.NotionalCashOption.Value != null)
                    writer.WriteNumber("notional_cash", userFundMarginData.NotionalCashOption.Value!.Value);
                else
                    writer.WriteNull("notional_cash");

            if (userFundMarginData.AvailableMarginOption.IsSet)
                if (userFundMarginData.AvailableMarginOption.Value != null)
                    writer.WriteNumber("available_margin", userFundMarginData.AvailableMarginOption.Value!.Value);
                else
                    writer.WriteNull("available_margin");

            if (userFundMarginData.ExposureMarginOption.IsSet)
                if (userFundMarginData.ExposureMarginOption.Value != null)
                    writer.WriteNumber("exposure_margin", userFundMarginData.ExposureMarginOption.Value!.Value);
                else
                    writer.WriteNull("exposure_margin");
        }
    }
}
