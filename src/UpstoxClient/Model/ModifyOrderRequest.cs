// <auto-generated>
/*
 * OpenAPI definition
 *
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: v0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using UpstoxClient.Client;

namespace UpstoxClient.Model
{
    /// <summary>
    /// ModifyOrderRequest
    /// </summary>
    public partial class ModifyOrderRequest
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="ModifyOrderRequest" /> class.
        /// </summary>
        /// <param name="quantity">Quantity with which the order was placed</param>
        /// <param name="validity">Order validity (DAY- Day and IOC- Immediate or Cancel (IOC) order)</param>
        /// <param name="price">Price at which the order was placed</param>
        /// <param name="orderId">The order ID for which the order must be modified</param>
        /// <param name="orderType">Type of order. It can be one of the following MARKET refers to market order LIMILT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market</param>
        /// <param name="disclosedQuantity">The quantity that should be disclosed in the market depth</param>
        /// <param name="triggerPrice">If the order is a stop loss order then the trigger price to be set is mentioned here</param>
        [JsonConstructor]
        public ModifyOrderRequest(Option<int?> quantity = default, ValidityEnum? validity = default, float? price = default, string? orderId = default, OrderTypeEnum? orderType = default, Option<int?> disclosedQuantity = default, float? triggerPrice = default)
        {
            QuantityOption = quantity;
            Validity = validity;
            Price = price;
            OrderId = orderId;
            OrderType = orderType;
            DisclosedQuantityOption = disclosedQuantity;
            TriggerPrice = triggerPrice;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Order validity (DAY- Day and IOC- Immediate or Cancel (IOC) order)
        /// </summary>
        /// <value>Order validity (DAY- Day and IOC- Immediate or Cancel (IOC) order)</value>
        public enum ValidityEnum
        {
            /// <summary>
            /// Enum DAY for value: DAY
            /// </summary>
            DAY = 1,

            /// <summary>
            /// Enum IOC for value: IOC
            /// </summary>
            IOC = 2
        }

        /// <summary>
        /// Returns a <see cref="ValidityEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static ValidityEnum ValidityEnumFromString(string value)
        {
            if (value.Equals("DAY"))
                return ValidityEnum.DAY;

            if (value.Equals("IOC"))
                return ValidityEnum.IOC;

            throw new NotImplementedException($"Could not convert value to type ValidityEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="ValidityEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static ValidityEnum? ValidityEnumFromStringOrDefault(string value)
        {
            if (value.Equals("DAY"))
                return ValidityEnum.DAY;

            if (value.Equals("IOC"))
                return ValidityEnum.IOC;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="ValidityEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string? ValidityEnumToJsonValue(ValidityEnum? value)
        {
            if (value == null)
                return null;

            if (value == ValidityEnum.DAY)
                return "DAY";

            if (value == ValidityEnum.IOC)
                return "IOC";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// Order validity (DAY- Day and IOC- Immediate or Cancel (IOC) order)
        /// </summary>
        /// <value>Order validity (DAY- Day and IOC- Immediate or Cancel (IOC) order)</value>
        /* <example>DAY</example> */
        [JsonPropertyName("validity")]
        public ValidityEnum? Validity { get; set; }

        /// <summary>
        /// Type of order. It can be one of the following MARKET refers to market order LIMILT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market
        /// </summary>
        /// <value>Type of order. It can be one of the following MARKET refers to market order LIMILT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market</value>
        public enum OrderTypeEnum
        {
            /// <summary>
            /// Enum MARKET for value: MARKET
            /// </summary>
            MARKET = 1,

            /// <summary>
            /// Enum LIMIT for value: LIMIT
            /// </summary>
            LIMIT = 2,

            /// <summary>
            /// Enum SL for value: SL
            /// </summary>
            SL = 3,

            /// <summary>
            /// Enum SLM for value: SL-M
            /// </summary>
            SLM = 4
        }

        /// <summary>
        /// Returns a <see cref="OrderTypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static OrderTypeEnum OrderTypeEnumFromString(string value)
        {
            if (value.Equals("MARKET"))
                return OrderTypeEnum.MARKET;

            if (value.Equals("LIMIT"))
                return OrderTypeEnum.LIMIT;

            if (value.Equals("SL"))
                return OrderTypeEnum.SL;

            if (value.Equals("SL-M"))
                return OrderTypeEnum.SLM;

            throw new NotImplementedException($"Could not convert value to type OrderTypeEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="OrderTypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static OrderTypeEnum? OrderTypeEnumFromStringOrDefault(string value)
        {
            if (value.Equals("MARKET"))
                return OrderTypeEnum.MARKET;

            if (value.Equals("LIMIT"))
                return OrderTypeEnum.LIMIT;

            if (value.Equals("SL"))
                return OrderTypeEnum.SL;

            if (value.Equals("SL-M"))
                return OrderTypeEnum.SLM;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="OrderTypeEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string? OrderTypeEnumToJsonValue(OrderTypeEnum? value)
        {
            if (value == null)
                return null;

            if (value == OrderTypeEnum.MARKET)
                return "MARKET";

            if (value == OrderTypeEnum.LIMIT)
                return "LIMIT";

            if (value == OrderTypeEnum.SL)
                return "SL";

            if (value == OrderTypeEnum.SLM)
                return "SL-M";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// Type of order. It can be one of the following MARKET refers to market order LIMILT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market
        /// </summary>
        /// <value>Type of order. It can be one of the following MARKET refers to market order LIMILT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market</value>
        /* <example>MARKET</example> */
        [JsonPropertyName("order_type")]
        public OrderTypeEnum? OrderType { get; set; }

        /// <summary>
        /// Used to track the state of Quantity
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<int?> QuantityOption { get; private set; }

        /// <summary>
        /// Quantity with which the order was placed
        /// </summary>
        /// <value>Quantity with which the order was placed</value>
        /* <example>1</example> */
        [JsonPropertyName("quantity")]
        public int? Quantity { get { return this.QuantityOption; } set { this.QuantityOption = new(value); } }

        /// <summary>
        /// Price at which the order was placed
        /// </summary>
        /// <value>Price at which the order was placed</value>
        /* <example>120.01</example> */
        [JsonPropertyName("price")]
        public float? Price { get; set; }

        /// <summary>
        /// The order ID for which the order must be modified
        /// </summary>
        /// <value>The order ID for which the order must be modified</value>
        /* <example>1644490272000</example> */
        [JsonPropertyName("order_id")]
        public string? OrderId { get; set; }

        /// <summary>
        /// Used to track the state of DisclosedQuantity
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<int?> DisclosedQuantityOption { get; private set; }

        /// <summary>
        /// The quantity that should be disclosed in the market depth
        /// </summary>
        /// <value>The quantity that should be disclosed in the market depth</value>
        /* <example>0</example> */
        [JsonPropertyName("disclosed_quantity")]
        public int? DisclosedQuantity { get { return this.DisclosedQuantityOption; } set { this.DisclosedQuantityOption = new(value); } }

        /// <summary>
        /// If the order is a stop loss order then the trigger price to be set is mentioned here
        /// </summary>
        /// <value>If the order is a stop loss order then the trigger price to be set is mentioned here</value>
        /* <example>0</example> */
        [JsonPropertyName("trigger_price")]
        public float? TriggerPrice { get; set; }

        /// <summary>
        /// Gets or Sets additional properties
        /// </summary>
        [JsonExtensionData]
        public Dictionary<string, JsonElement> AdditionalProperties { get; } = new Dictionary<string, JsonElement>();

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class ModifyOrderRequest {\n");
            sb.Append("  Quantity: ").Append(Quantity).Append("\n");
            sb.Append("  Validity: ").Append(Validity).Append("\n");
            sb.Append("  Price: ").Append(Price).Append("\n");
            sb.Append("  OrderId: ").Append(OrderId).Append("\n");
            sb.Append("  OrderType: ").Append(OrderType).Append("\n");
            sb.Append("  DisclosedQuantity: ").Append(DisclosedQuantity).Append("\n");
            sb.Append("  TriggerPrice: ").Append(TriggerPrice).Append("\n");
            sb.Append("  AdditionalProperties: ").Append(AdditionalProperties).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="ModifyOrderRequest" />
    /// </summary>
    public class ModifyOrderRequestJsonConverter : JsonConverter<ModifyOrderRequest>
    {
        /// <summary>
        /// Deserializes json to <see cref="ModifyOrderRequest" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override ModifyOrderRequest Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<int?> quantity = default;
            Option<ModifyOrderRequest.ValidityEnum?> validity = default;
            Option<float?> price = default;
            Option<string?> orderId = default;
            Option<ModifyOrderRequest.OrderTypeEnum?> orderType = default;
            Option<int?> disclosedQuantity = default;
            Option<float?> triggerPrice = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "quantity":
                            quantity = new Option<int?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (int?)null : utf8JsonReader.GetInt32());
                            break;
                        case "validity":
                            string? validityRawValue = utf8JsonReader.GetString();
                            if (validityRawValue != null)
                                validity = new Option<ModifyOrderRequest.ValidityEnum?>(ModifyOrderRequest.ValidityEnumFromStringOrDefault(validityRawValue));
                            break;
                        case "price":
                            price = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        case "order_id":
                            orderId = new Option<string?>(utf8JsonReader.GetString());
                            break;
                        case "order_type":
                            string? orderTypeRawValue = utf8JsonReader.GetString();
                            if (orderTypeRawValue != null)
                                orderType = new Option<ModifyOrderRequest.OrderTypeEnum?>(ModifyOrderRequest.OrderTypeEnumFromStringOrDefault(orderTypeRawValue));
                            break;
                        case "disclosed_quantity":
                            disclosedQuantity = new Option<int?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (int?)null : utf8JsonReader.GetInt32());
                            break;
                        case "trigger_price":
                            triggerPrice = new Option<float?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (float?)null : (float)utf8JsonReader.GetDouble());
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!validity.IsSet)
                throw new ArgumentException("Property is required for class ModifyOrderRequest.", nameof(validity));

            if (!price.IsSet)
                throw new ArgumentException("Property is required for class ModifyOrderRequest.", nameof(price));

            if (!orderId.IsSet)
                throw new ArgumentException("Property is required for class ModifyOrderRequest.", nameof(orderId));

            if (!orderType.IsSet)
                throw new ArgumentException("Property is required for class ModifyOrderRequest.", nameof(orderType));

            if (!triggerPrice.IsSet)
                throw new ArgumentException("Property is required for class ModifyOrderRequest.", nameof(triggerPrice));

            return new ModifyOrderRequest(quantity, validity.Value!, price.Value!, orderId.Value!, orderType.Value!, disclosedQuantity, triggerPrice.Value!);
        }

        /// <summary>
        /// Serializes a <see cref="ModifyOrderRequest" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="modifyOrderRequest"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, ModifyOrderRequest modifyOrderRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, modifyOrderRequest, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="ModifyOrderRequest" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="modifyOrderRequest"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, ModifyOrderRequest modifyOrderRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            if (modifyOrderRequest.QuantityOption.IsSet)
                if (modifyOrderRequest.QuantityOption.Value != null)
                    writer.WriteNumber("quantity", modifyOrderRequest.QuantityOption.Value!.Value);
                else
                    writer.WriteNull("quantity");

            var validityRawValue = ModifyOrderRequest.ValidityEnumToJsonValue(modifyOrderRequest.Validity!.Value);
            if (validityRawValue != null)
                writer.WriteString("validity", validityRawValue);
            else
                writer.WriteNull("validity");

            if (modifyOrderRequest.Price != null)
                writer.WriteNumber("price", modifyOrderRequest.Price.Value);
            else
                writer.WriteNull("price");

            if (modifyOrderRequest.OrderId != null)
                writer.WriteString("order_id", modifyOrderRequest.OrderId);
            else
                writer.WriteNull("order_id");

            var orderTypeRawValue = ModifyOrderRequest.OrderTypeEnumToJsonValue(modifyOrderRequest.OrderType!.Value);
            if (orderTypeRawValue != null)
                writer.WriteString("order_type", orderTypeRawValue);
            else
                writer.WriteNull("order_type");

            if (modifyOrderRequest.DisclosedQuantityOption.IsSet)
                if (modifyOrderRequest.DisclosedQuantityOption.Value != null)
                    writer.WriteNumber("disclosed_quantity", modifyOrderRequest.DisclosedQuantityOption.Value!.Value);
                else
                    writer.WriteNull("disclosed_quantity");

            if (modifyOrderRequest.TriggerPrice != null)
                writer.WriteNumber("trigger_price", modifyOrderRequest.TriggerPrice.Value);
            else
                writer.WriteNull("trigger_price");
        }
    }
}
