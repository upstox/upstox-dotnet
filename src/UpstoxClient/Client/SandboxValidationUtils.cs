/*
 * OpenAPI definition
 *
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: v0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections.Generic;
using System.Runtime.CompilerServices;

namespace UpstoxClient.Client
{
    /// <summary>
    /// Utility class for sandbox validation logic
    /// </summary>
    public static class SandboxValidationUtils
    {

        /// <summary>
        /// Allowed methods in sandbox mode
        /// </summary>
        public static readonly HashSet<string> allowedSandboxMethods = new HashSet<string>{"PlaceMultiOrderAsync",            
            "PlaceOrderAsync",
            "ModifyOrderAsync",
            "CancelOrderAsync"};
        /// <summary>
        /// Validates if the current method is allowed in sandbox mode
        /// </summary>
        /// <param name="sandboxConfiguration">The sandbox configuration</param>
        /// <param name="methodName">The name of the calling method (automatically populated)</param>
        public static void ValidateSandboxMode(
            ISandboxConfiguration sandboxConfiguration,
            [CallerMemberName] string methodName = "")
        {
            if (sandboxConfiguration.IsSandboxMode && !allowedSandboxMethods.Contains(methodName))
            {
                throw new Exception("Sandbox mode is not supported for this API");
            }
        }
    }
}